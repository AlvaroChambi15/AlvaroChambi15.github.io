"use strict";(self.webpackChunkfrontend_app_angular=self.webpackChunkfrontend_app_angular||[]).push([[49],{9049:(X,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>D});var c=a(6895),_=a(529),p=a(9859),e=a(4650);let v=(()=>{class t{constructor(n){this.router=n}canActivate(n,i){try{return localStorage.getItem("token")&&this.router.navigate(["/admin"]),!0}catch{return!0}return!0}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=a(263),r=a(433),f=a(805),g=a(5593),m=a(1740),h=a(7772);function x(t,o){1&t&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}function Z(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"h2",8)(3,"b"),e._uU(4,"OLVID\xc9 MI CONTRASE\xd1A"),e.qZA()(),e.TgZ(5,"label",9),e._uU(6,"Introduce tu direcci\xf3n de correo electr\xf3nico de recuperaci\xf3n"),e.qZA()(),e.TgZ(7,"span",10)(8,"input",11),e.NdJ("ngModelChange",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.datos.email=s)}),e.qZA(),e.TgZ(9,"label",12),e._uU(10,"Email"),e.qZA()(),e.TgZ(11,"p"),e._uU(12,"| CAPTCHA |"),e.qZA(),e.TgZ(13,"div",13)(14,"button",14),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.pedirReseteo())}),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(8),e.Q6J("ngModel",n.datos.email)}}function T(t,o){1&t&&(e._UZ(0,"i",19),e.TgZ(1,"div",20),e._uU(2,"Revise su correo electr\xf3nico para obtener un enlace y restablecer su contrase\xf1a. Si no aparece en unos minutos, revise su carpeta de correo no deseado."),e.qZA())}function C(t,o){1&t&&(e.TgZ(0,"div",15)(1,"div",7)(2,"h2",8)(3,"b"),e._uU(4,"RESTABLECER SU CONTRASE\xd1A"),e.qZA()()(),e.TgZ(5,"p-messages",16),e.YNc(6,T,3,0,"ng-template",17),e.qZA(),e._UZ(7,"button",18),e.qZA())}function A(t,o){1&t&&(e._UZ(0,"i",22),e.TgZ(1,"div",20),e._uU(2,"A ocurrido un error!."),e.qZA())}function w(t,o){1&t&&(e.TgZ(0,"div",15)(1,"div",7)(2,"h2",8)(3,"b"),e._uU(4,"RESTABLECER SU CONTRASE\xd1A"),e.qZA()()(),e.TgZ(5,"p-messages",21),e.YNc(6,A,3,0,"ng-template",17),e.qZA(),e._UZ(7,"button",18),e.qZA())}function b(t,o){1&t&&(e._UZ(0,"i",22),e.TgZ(1,"div",20),e._uU(2,"Esa direcci\xf3n no es v\xe1lida, no es un correo electr\xf3nico principal verificado o no est\xe1 asociada con una cuenta de usuario personal."),e.qZA())}function R(t,o){1&t&&(e.TgZ(0,"div",15)(1,"div",7)(2,"h2",8)(3,"b"),e._uU(4,"RESTABLECER SU CONTRASE\xd1A"),e.qZA()()(),e.TgZ(5,"p-messages",23),e.YNc(6,b,3,0,"ng-template",17),e.qZA(),e._UZ(7,"button",18),e.qZA())}let U=(()=>{class t{constructor(n){this.authService=n,this.datos={email:""},this.forgotPassword=!0,this.emailSend=!1,this.emailFail=!1,this.loading=!1,this.emailNotExist=!1}ngOnInit(){}pedirReseteo(){this.forgotPassword=!1,this.loading=!0,setTimeout(()=>{this.authService.forgotPass(this.datos).subscribe(n=>{console.log(n),this.loading=!1,this.emailSend=!0},n=>{console.log(n),console.log(n.error.mensaje),this.loading=!1,"NO EXISTE"==n.error.mensaje?(console.log("mostrar ERROR DE QUE NO EXISTE"),this.emailNotExist=!0):(console.log("mostrar ERROR DE QUE ALGO SALIO MAL"),this.emailFail=!0)})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-forgot-password"]],decls:6,vars:5,consts:[["style","margin: auto;width: 500px ;padding: 40px;text-align:center;",4,"ngIf"],["styleClass","p-fluid",2,"margin","30px"],["class","card","style","margin: auto;width: 500px ;padding: 40px;",4,"ngIf"],["class","card","style","margin: auto;width: 500px ;padding: 40px;text-align:center;",4,"ngIf"],[2,"margin","auto","width","500px","padding","40px","text-align","center"],[1,"pi","pi-spin","pi-spinner",2,"font-size","7rem","margin","0px auto"],[1,"card",2,"margin","auto","width","500px","padding","40px"],[1,"field"],[1,"text-center"],["for","",2,"margin-top","10px","font-size","15px","text-align","center"],[1,"p-float-label",2,"margin-top","25px","margin-bottom","25px"],["id","float-input","type","text","pInputText","",2,"width","100%",3,"ngModel","ngModelChange"],["for","float-input"],[1,"flex","justify-content-center"],["pButton","","label","Enviar email de restablecimiento de contrase\xf1a",2,"width","100%",3,"click"],[1,"card",2,"margin","auto","width","500px","padding","40px","text-align","center"],["severity","success"],["pTemplate",""],["routerLink","/auth/login","pButton","","label","Volver al Login",2,"width","100%"],[1,"pi","pi-check",2,"font-size","2rem","margin-right","15px"],[1,"ml-2",2,"font-size","16px"],["severity","error"],[1,"pi","pi-times",2,"font-size","2rem","margin-right","15px"],["severity","warn"]],template:function(n,i){1&n&&(e.YNc(0,x,2,0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Z,15,1,"div",2),e.YNc(3,C,8,0,"div",3),e.YNc(4,w,8,0,"div",3),e.YNc(5,R,8,0,"div",3),e.qZA()),2&n&&(e.Q6J("ngIf",i.loading),e.xp6(2),e.Q6J("ngIf",i.forgotPassword),e.xp6(1),e.Q6J("ngIf",i.emailSend),e.xp6(1),e.Q6J("ngIf",i.emailFail),e.xp6(1),e.Q6J("ngIf",i.emailNotExist))},dependencies:[c.O5,p.rH,r.Fj,r.JJ,f.jx,g.Hq,m.o,h.V,r.On]}),t})();var E=a(3550),y=a(1989),F=a(3425),q=a(1795);const M=function(){return{width:"100%",padding:"1rem"}};function N(t,o){1&t&&(e.TgZ(0,"small",12),e._uU(1,"Token is required."),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"small",12),e._uU(1,"Email is required."),e.qZA())}function P(t,o){1&t&&(e.TgZ(0,"small",12),e._uU(1,"Email is required."),e.qZA())}function k(t,o){1&t&&(e.TgZ(0,"small",12),e._uU(1,"Email is required."),e.qZA())}function O(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",3)(1,"h1",4),e._uU(2,"REESTABLECER LA CONTRASE\xd1A"),e.qZA(),e.TgZ(3,"div",5)(4,"label",6),e._uU(5,"Token"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.reset.token=s)}),e.qZA(),e.YNc(8,N,2,0,"small",8),e.qZA(),e.TgZ(9,"div",5)(10,"label",6),e._uU(11,"Email"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.reset.email=s)}),e.qZA(),e.YNc(14,J,2,0,"small",8),e.qZA(),e.TgZ(15,"div",5)(16,"label",6),e._uU(17,"Nueva Contrase\xf1a"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"input",9),e.NdJ("ngModelChange",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.reset.password=s)}),e.qZA(),e.YNc(20,P,2,0,"small",8),e.qZA(),e.TgZ(21,"div",5)(22,"label",6),e._uU(23,"Confirmar Contrase\xf1a"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"input",9),e.NdJ("ngModelChange",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.reset.password_confirmation=s)}),e.qZA(),e.YNc(26,k,2,0,"small",8),e.qZA(),e._UZ(27,"hr"),e.TgZ(28,"div",10)(29,"button",11),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.resetP())}),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.reset.token),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.reset.token),e.xp6(5),e.Q6J("ngModel",n.reset.email),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.reset.email),e.xp6(5),e.Q6J("ngModel",n.reset.password),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.reset.email),e.xp6(5),e.Q6J("ngModel",n.reset.password_confirmation),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.reset.email)}}function L(t,o){1&t&&(e._UZ(0,"i",17),e.TgZ(1,"div",18),e._uU(2,"Su contrase\xf1a a sido cambiada con exito!."),e.qZA())}function Q(t,o){1&t&&(e.TgZ(0,"div",13)(1,"div",5)(2,"h2",4)(3,"b"),e._uU(4,"RESTABLECER SU CONTRASE\xd1A"),e.qZA()()(),e.TgZ(5,"p-messages",14),e.YNc(6,L,3,0,"ng-template",15),e.qZA(),e._UZ(7,"button",16),e.qZA())}function Y(t,o){1&t&&(e._UZ(0,"i",20),e.TgZ(1,"div",18),e._uU(2,"A ocurrido un error al cambiar su contrase\xf1a!."),e.qZA())}function B(t,o){1&t&&(e.TgZ(0,"div",13)(1,"div",5)(2,"h2",4)(3,"b"),e._uU(4,"RESTABLECER SU CONTRASE\xd1A"),e.qZA()()(),e.TgZ(5,"p-messages",19),e.YNc(6,Y,3,0,"ng-template",15),e.qZA(),e._UZ(7,"button",16),e.qZA())}const G=[{path:"login",component:(()=>{class t{constructor(n,i,s){this.authService=n,this.router=i,this.configService=s,this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required])}),this.valCheck=["remember"]}ngOnInit(){this.config=this.configService.config,this.subscription=this.configService.configUpdate$.subscribe(n=>{this.config=n})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ingresar(){this.authService.loginConLaravel(this.loginForm.value).subscribe(n=>{console.log(n),localStorage.setItem("token",n.access_token),this.router.navigate(["/admin/perfil"])},n=>{console.log(n),401===n.status&&alert("Credenciales Incorrectas!")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.e),e.Y36(p.F0),e.Y36(E.E))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:29,vars:7,consts:[[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","mt-5","xl:mt-0","text-center"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(\n          180deg,\n          var(--primary-color) 10%,\n          rgba(33, 150, 243, 0) 30%\n        )"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(\n            180deg,\n            var(--surface-50) 38.9%,\n            var(--surface-0)\n          )"],[1,"text-center","mb-5"],["src","assets/layout/images/avatar.png","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[1,"w-full","md:w-10","mx-auto",3,"formGroup"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["id","email1","type","email","formControlName","email","placeholder","Email address","pInputText","",1,"w-full","mb-3",2,"padding","1rem"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","formControlName","password","placeholder","Password","styleClass","width-100 mb-3 p-input-icon-right",3,"toggleMask","feedback","inputStyle"],[1,"flex","align-items-center","justify-content-between","mb-5"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1"],["routerLink","/auth/forgot-password",1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)"],["pButton","","pRipple","","label","INGRESAR",1,"w-full","p-3","text-xl",3,"disabled","click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"div",7),e._uU(8,"Welcome!"),e.qZA(),e.TgZ(9,"span",8),e._uU(10,"Sign in to continue"),e.qZA()(),e.TgZ(11,"div",9)(12,"label",10),e._uU(13,"Email"),e.qZA(),e._UZ(14,"input",11)(15,"hr")(16,"hr"),e.TgZ(17,"label",12),e._uU(18,"Password"),e.qZA(),e._UZ(19,"p-password",13)(20,"hr"),e.TgZ(21,"div",14)(22,"div",15),e._UZ(23,"p-checkbox",16),e.TgZ(24,"label",17),e._uU(25,"Remember me"),e.qZA()(),e.TgZ(26,"a",18),e._uU(27,"Forgot password?"),e.qZA()(),e.TgZ(28,"button",19),e.NdJ("click",function(){return i.ingresar()}),e.qZA()()()()()()),2&n&&(e.xp6(11),e.Q6J("formGroup",i.loginForm),e.xp6(8),e.Q6J("toggleMask",!0)("feedback",!1)("inputStyle",e.DdM(6,M)),e.xp6(4),e.Q6J("binary",!0),e.xp6(5),e.Q6J("disabled",!i.loginForm.valid))},dependencies:[p.yS,r.Fj,r.JJ,r.JL,r.sg,r.u,g.Hq,y.XZ,m.o,F.ro,q.H],styles:["p-password.spasswordIO[_ngcontent-%COMP%]{padding:40px}input.passwordIO2[_ngcontent-%COMP%]{padding:40px}[_nghost-%COMP%]     .width-100{width:100%}","[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),t})(),canActivate:[v]},{path:"registro",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro"]],decls:2,vars:0,template:function(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"registro works!"),e.qZA())}}),t})()},{path:"forgot-password",component:U},{path:"reset-password/:token",component:(()=>{class t{constructor(n,i){this.activatedRouter=n,this.authService=i,this.reset={token:"",email:"",password:"",password_confirmation:""},this.resetPass=!0,this.emailChange=!1,this.changeEmailFail=!1}ngOnInit(){this.reset.token=this.activatedRouter.snapshot.paramMap.get("token")}resetP(){this.authService.resetPass(this.reset).subscribe(n=>{console.log(n),this.resetPass=!1,this.emailChange=!0},n=>{console.log(n),this.resetPass=!1,this.changeEmailFail=!0})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.gz),e.Y36(d.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset"]],decls:5,vars:3,consts:[["styleClass","p-fluid",2,"margin","30px"],["class","card","style","margin: auto;width: 500px ;padding: 40px;",4,"ngIf"],["class","card","style","margin: auto;width: 500px ;padding: 40px;text-align:center;",4,"ngIf"],[1,"card",2,"margin","auto","width","500px","padding","40px"],[1,"text-center"],[1,"field"],["for","name"],["disabled","","type","text","pInputText","","id","name","required","",2,"width","100%",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],["type","text","pInputText","","id","name","required","",2,"width","100%",3,"ngModel","ngModelChange"],[1,"flex","justify-content-center"],["pButton","","label","Reestablecer la\n      contrase\xf1a",2,"width","100%",3,"click"],[1,"p-error"],[1,"card",2,"margin","auto","width","500px","padding","40px","text-align","center"],["severity","success"],["pTemplate",""],["routerLink","/auth/login","pButton","","label","Volver al Login",2,"width","100%"],[1,"pi","pi-check",2,"font-size","2rem","margin-right","15px"],[1,"ml-2",2,"font-size","16px"],["severity","error"],[1,"pi","pi-times",2,"font-size","2rem","margin-right","15px"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,O,30,8,"div",1),e.YNc(2,Q,8,0,"div",2),e.YNc(3,B,8,0,"div",2),e._UZ(4,"hr"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.resetPass),e.xp6(1),e.Q6J("ngIf",i.emailChange),e.xp6(1),e.Q6J("ngIf",i.changeEmailFail))},dependencies:[c.O5,p.rH,r.Fj,r.JJ,r.Q7,f.jx,g.Hq,m.o,h.V,r.On]}),t})()}];let j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(G),p.Bz]}),t})();var H=a(294),z=a(2285);let D=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,j,_.JF,r.UX,H.I,z.W]}),t})()}}]);